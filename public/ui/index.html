<!doctype html><meta charset="utf-8"><title>GroFriends — Login</title>
<style>
/* CSS base recortado por brevedad: usa exactamente tu BASE_CSS aquí */
:root{--bg:#0b0c10;--card:#14161b;--ink:#e8e8ea;--muted:#9aa0a6;--acc:#7dd3fc;--acc2:#a78bfa;--ok:#86efac;--err:#fca5a5;--chip:#0f1116;}
*{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,var(--bg) 0%,#0d1016 100%);color:var(--ink);font:14px/1.5 system-ui,Segoe UI,Roboto}
a{color:var(--acc)} input,button,textarea,select{font:inherit}
.app{max-width:1000px;margin:28px auto;padding:0 16px}
.nav{display:flex;gap:8px;position:sticky;top:0;background:rgba(11,12,16,.75);backdrop-filter:blur(8px);padding:12px 0;z-index:2}
.tab{padding:10px 12px;border-radius:12px;border:1px solid #23252c;background:var(--chip);cursor:pointer}
.tab[aria-current="page"]{background:linear-gradient(90deg,rgba(125,211,252,.15),rgba(167,139,250,.15));border-color:#2e3240}
.header{display:flex;gap:10px;align-items:center;margin:20px 0}
.card{background:var(--card);border:1px solid #23252c;border-radius:16px;padding:16px;box-shadow:0 6px 30px rgba(0,0,0,.25)}
.grid{display:grid;gap:12px}
.grid.cols-2{grid-template-columns:1fr 1fr}
.list{list-style:none;margin:0;padding:0}
.item{display:flex;justify-content:space-between;align-items:center;padding:10px;border:1px solid #2a2e36;border-radius:12px;background:#0f1116;margin:6px 0}
.badge{padding:4px 8px;border-radius:999px;background:#1a1e27;border:1px solid #2a2e36;color:var(--muted)}
.muted{color:var(--muted)} .ok{color:var(--ok)} .err{color:var(--err)}
</style>
<body data-theme="pastel">
<div class="app">
  <div class="header"><h1>GroFriends</h1><span class="badge">Beta</span></div>
  <div class="card grid cols-2">
    <div>
      <h2>Accede</h2>
      <form id="loginForm" class="grid">
        <input id="email" type="email" placeholder="Email" required>
        <input id="password" type="password" placeholder="Password" required minlength="8">
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <button>Entrar</button>
          <a class="tab" href="/ui/register">Crear cuenta</a>
        </div>
      </form>
      <div id="msg" class="muted"></div>
    </div>
    <div>
      <h2>Incluye</h2>
      <ul class="list">
        <li class="item"><span>Lista</span><span class="badge">Items</span></li>
        <li class="item"><span>Social</span><span class="badge">Feed + Likes/Comentarios</span></li>
        <li class="item"><span>Amigos + Chat</span><span class="badge">Tiempo real</span></li>
        <li class="item"><span>Metas</span><span class="badge">Públicas/Privadas</span></li>
      </ul>
    </div>
  </div>
</div>
<script>
const $ = s => document.querySelector(s);
document.body.setAttribute("data-theme","pastel");
$("#loginForm").addEventListener("submit", async (e)=>{
  e.preventDefault(); $("#msg").textContent = "Autenticando…";
  try{
    const r = await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},
      body: JSON.stringify({email: $("#email").value.trim().toLowerCase(), password: $("#password").value})});
    const j = await r.json();
    if(!j.ok){ $("#msg").innerHTML = '<span class="err">'+(j.error||'Error')+'</span>'; return; }
    localStorage.setItem("token", j.token); location.href="/app";
  }catch(err){ $("#msg").innerHTML = '<span class="err">'+err.message+'</span>'; }
});
</script>
</body>
